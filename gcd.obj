; This subroutine computes the GCD of unsigned integers a and b using Euclid's Algorithm
; (Subtraction). The values a, b are both 8-bit values stored in memory, and
; the values of a and b are modified throughout the subroutine, which means that the
; original a and b values are destroyed. At the end of the subroutine, the GCD of the
; original a and b values is stored in the variable a and the accumulator. This subroutine
; assumes the inputs are unsigned, so there is no checking for signed integers.
;
; Revision History
;     11 Feb 26  Wilson Duan      Initial revision


;0000       start:
0000  8001;     LDD   b			        ;get the value of b in accumulator
0001  9F12;     JZ    Done		        ;if b is 0, we're done
0002  1F80;     NOP                     ;branch slot

;0003       SubtractLoop:		        ;subtract b from a until a is less than b
0003  8000;     LDD   a
0004  3001;     CMP   b                 ;checks if a < b, and stores info in ALU flags
0005  8F06;     JB    Swap              ;if a < b, then call swap function
0006  1F80;     NOP                     ;branch slot
0007  8000;     LDD   a
0008  1001;     SUB   b                 ;this line and the below line does
0009  A000;     STD   a                 ;a = a - b
000A  C003;     JMP   SubtractLoop      ;continue the subtraction loop
000B  1F80;     NOP                     ;branch slot
            
;000C       Swap:
000C  8000;     LDD   a                 ;get a
000D  0780;     TAX                     ;and put it in X temporarily
000E  8001;     LDD   b                 ;now get b
000F  A000;     STD   a                 ;and store it in a
0010  6701;     TXA                     ;get original a back
0011  A001;     STD   b                 ;and store it in b
0012  C000;     JMP   start             ;jump back to start to keep looping
0013  1F80;     NOP                     ;branch slot
                

;0014       Done:			            ;done with the calculation
0014  8000;     LDD   a			        ;load a into the accumulator since a is the GCD
0015  1F00;     RTS                     ;and return



;Variables
;00     a       DB    ?			;the first number for which the GCD will be computed
;01     b       DB    ?			;the second number for which the GCD will be computed
